(function(){"use strict";var a={1111:function(a,e,o){var s=o(3751),t=o(641);function i(a,e){const o=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.Wv)(o)}var r=o(6262);const n={},l=(0,r.A)(n,[["render",i]]);var d=l,c=o(5220),u=o(33),p=o.p+"img/Naslovna.c12e2ed2.jpg",m=o.p+"img/slika_sto_nudimo.32bb9e19.jpg";const v={key:0},k=(0,t.Fv)('<div class="position-relative"><img id="naslovna-slika" src="'+p+'" alt="Slika"><div class="position-absolute top-50 start-50 translate-right"><h1 class="tekst-naslovna-slika">Izrazite vlastitu</h1><h1 class="tekst-naslovna-slika">kreativnost u svojim</h1><h1 class="tekst-naslovna-slika">uvjetima rada</h1></div></div><h1 class="my-5">Popularne usluge:</h1>',2),h={class:"container mt-5"},b={class:"row"},g={class:"card my-3 shadow slike-usluga"},f=["src"],j={class:"mt-3"},L=(0,t.Fv)('<h1 class="my-5">Što nudimo:</h1><div class="sekcija-sto-nudimo-obrub"><div class="sekcija-sto-nudimo"><img class="slika-sto-nudimo" src="'+m+'" alt="Slika"><div class="tekst-sto-nudimo"><ul><li>Sam biraj što te zanima i što želiš raditi</li><li>Radi od kuće kada ti odgovara</li><li>Pronađi uslugu koja ti treba i olakšaj si posao</li></ul></div></div></div>',2);function w(a,e,o,s,i,r){const n=(0,t.g2)("Navbar"),l=(0,t.g2)("Modal"),d=(0,t.g2)("Footer");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(n,{onopen:r.openZatvoriModal},null,8,["onopen"]),i.prikaziModal?((0,t.uX)(),(0,t.CE)("div",v,[(0,t.bF)(l,{onZatvori:r.openZatvoriModal,onPotvrdi:r.handleFormSubmit},null,8,["onZatvori","onPotvrdi"])])):(0,t.Q3)("",!0),k,(0,t.Lk)("div",h,[(0,t.Lk)("div",b,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.Usluge,(a=>((0,t.uX)(),(0,t.CE)("div",{class:"col-md-6 col-lg-3",key:a.id},[(0,t.Lk)("div",g,[(0,t.Lk)("img",{src:i.BASE_URL+"/storage/"+a.image,class:"card-img-top rounded",alt:"Slika"},null,8,f),(0,t.Lk)("h3",j,(0,u.v_)(a.title),1),(0,t.Lk)("p",null,(0,u.v_)(a.description),1)])])))),128))])]),L,(0,t.bF)(d)],64)}o(4114),o(4603),o(7566),o(8721);const _={class:"navbar navbar-expand-lg navbar-dark bg-dark"},y=(0,t.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,t.Lk)("span",{class:"navbar-toggler-icon"})],-1),C={class:"collapse navbar-collapse",id:"navbarNav"},U={class:"navbar-nav ms-auto"},z={class:"nav-item"},E=(0,t.Lk)("li",{class:"nav-item"},[(0,t.Lk)("a",{href:"/Dokumenti/VIZIJA_PZI.docx.pdf",class:"nav-link",target:"_blank"},"Vizija")],-1),K={class:"nav-item"},O={class:"nav-item"};function F(a,e,o,s,i,r){const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("nav",_,[(0,t.bF)(n,{to:"/",class:"navbar-brand logo custom-logo"},{default:(0,t.k6)((()=>[(0,t.eW)("Pzi Usluge")])),_:1}),y,(0,t.Lk)("div",C,[(0,t.Lk)("ul",U,[(0,t.Lk)("li",z,[(0,t.bF)(n,{to:"/about",class:"nav-link"},{default:(0,t.k6)((()=>[(0,t.eW)("O nama")])),_:1})]),E,(0,t.Lk)("li",K,[(0,t.Lk)("button",{class:"nav-link btn custom-btn btn-outline-light",onClick:e[0]||(e[0]=(...a)=>r.openModal&&r.openModal(...a))},"Prijavi se")]),(0,t.Lk)("li",O,[(0,t.bF)(n,{to:"/register",class:"btn custom-register-btn"},{default:(0,t.k6)((()=>[(0,t.eW)("Registriraj se")])),_:1})])])])])}var M={name:"Navbar",methods:{openModal(){this.$emit("open")}}};const S=(0,r.A)(M,[["render",F]]);var P=S;const x={class:"footer-wrapper"},X=(0,t.Fv)('<div class="footer bg-light"><ul class="social-icons d-flex"><li><a href="https://www.instagram.com/" target="blank"><i class="fab fa-instagram text-dark fa-border"></i></a></li><li><a href="https://www.facebook.com/" target="blank"><i class="fab fa-facebook text-dark fa-border"></i></a></li><li><a href="https://twitter.com/" target="blank"><i class="fab fa-twitter text-dark fa-border"></i></a></li><li><a href="https://www.linkedin.com/" target="blank"><i class="fab fa-linkedin text-dark fa-border"></i></a></li></ul></div><div class="footer bg-dark text-white"><p class="py-2">Pzi usluge - Stipe Kordić i Antonela Galić</p></div>',2),D=[X];function R(a,e,o,s,i,r){return(0,t.uX)(),(0,t.CE)("div",x,D)}var A={name:"Footer"};const V=(0,r.A)(A,[["render",R]]);var $=V,Z=o(4335);const I=Z.A.create({baseURL:"http://127.0.0.1:8000"});var B=I;const N={class:"modall"},T=(0,t.Lk)("h3",null,"Prijavi se",-1),Q={class:"mb-3"},J=(0,t.Lk)("label",{for:"email",class:"form-label"},"Email:",-1),W={class:"mb-3"},q=(0,t.Lk)("label",{for:"password",class:"form-label"},"Password:",-1),G={class:"d-flex"},H=["type"],Y=(0,t.Lk)("button",{type:"submit",class:"btn btn-dark mb-3"},"Prijavi se",-1),aa=(0,t.Lk)("div",{class:"d-flex justify-content-between"},[(0,t.Lk)("p",null,"Nemate račun?"),(0,t.Lk)("a",{href:"#",class:"text-decoration-none text-dark"},"Zaboravljena lozinka?")],-1),ea={class:"text-start"};function oa(a,e,o,i,r,n){const l=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",{class:"backdrop",onClick:e[4]||(e[4]=(0,s.D$)(((...a)=>n.zatvoriModal&&n.zatvoriModal(...a)),["self"]))},[(0,t.Lk)("div",N,[T,(0,t.Lk)("form",{onSubmit:e[3]||(e[3]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"])),enctype:"multipart/form-data"},[(0,t.Lk)("div",Q,[J,(0,t.bo)((0,t.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=a=>r.formData.email=a),class:"form-control",required:""},null,512),[[s.Jo,r.formData.email]])]),(0,t.Lk)("div",W,[q,(0,t.Lk)("div",G,[(0,t.bo)((0,t.Lk)("input",{type:r.passwordFieldType,id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>r.formData.password=a),class:"form-control",required:""},null,8,H),[[s.hp,r.formData.password]]),(0,t.Lk)("button",{class:"btn btn-link",onClick:e[2]||(e[2]=(...a)=>n.togglePasswordVisibility&&n.togglePasswordVisibility(...a))},[(0,t.Lk)("i",{class:(0,u.C4)("password"===r.passwordFieldType?"far fa-eye":"far fa-eye-slash")},null,2)])])]),Y],32),aa,(0,t.Lk)("div",ea,[(0,t.bF)(l,{to:"/register",class:"p-1 text-decoration-none text-dark border border-dark rounded"},{default:(0,t.k6)((()=>[(0,t.eW)("Registriraj se")])),_:1})])])])}var sa={data(){return{formData:{email:"",password:""},passwordFieldType:"password"}},methods:{zatvoriModal(){this.$emit("zatvori")},submitForm(){this.$emit("potvrdi",{email:this.formData.email,password:this.formData.password})},togglePasswordVisibility(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"}}};const ta=(0,r.A)(sa,[["render",oa]]);var ia=ta,ra={name:"HomeView",components:{Navbar:P,Footer:$,Modal:ia},data(){return{prikaziModal:!1,BASE_URL:"http://127.0.0.1:8000",Usluge:[{id:1,image:"",title:"",description:""},{id:2,image:"",title:"",description:""},{id:3,image:"",title:"",description:""},{id:4,image:"",title:"",description:""}]}},methods:{openZatvoriModal(){this.prikaziModal=!this.prikaziModal},handleFormSubmit(a){const e=new URLSearchParams;e.append("email",a.email),e.append("password",a.password);const o="/api/auth/login";B.post(o,e).then((a=>{const e=a.data.access_token;localStorage.setItem("token",e),this.$router.push("/user")})).catch((a=>{console.error(a.response.data.message)}))}},mounted(){B.get("/api/services").then((a=>{const e=a.data;e.sort(((a,e)=>e.posts_count-a.posts_count)),e.splice(4);for(let o=0;o<4;o++)this.Usluge[o].image=e[o].image_path,this.Usluge[o].title=e[o].name,this.Usluge[o].description=e[o].short_description})).catch((a=>{console.error(a)}))}};const na=(0,r.A)(ra,[["render",w]]);var la=na,da=o.p+"img/profilna_Stipe.44875384.jpg",ca=o.p+"img/profilna_Antonela.2797964b.jpg";const ua={class:"about"},pa={key:0},ma=(0,t.Fv)('<div class="container my-4"><div class="row"><div class="col-lg-6 mb-4"><div class="card rounded bg-dark text-white shadow"><img src="'+da+'" class="card-img-top rounded-circle mx-auto mt-3" style="width:100px;height:100px;" alt="Slika"><div class="card-body"><h5 class="card-title text-center">Stipe Kordić</h5><p class="card-text text-center">Preddiplomski studij matematike i informatike</p><button class="btn btn-light d-block mx-auto"><a href="https://github.com/StipeKordic" target="blank"><i class="fab fa-github"></i></a></button></div></div></div><div class="col-lg-6 mb-4"><div class="card rounded bg-dark text-white shadow"><img src="'+ca+'" class="card-img-top rounded-circle mx-auto mt-3" style="width:100px;height:100px;" alt="Slika"><div class="card-body"><h5 class="card-title text-center">Antonela Galić</h5><p class="card-text text-center">Preddiplomski studij informatike</p><button class="btn btn-light d-block mx-auto"><a href="https://github.com/AntonelaGalicc" target="blank"><i class="fab fa-github"></i></a></button></div></div></div></div></div>',1);function va(a,e,o,s,i,r){const n=(0,t.g2)("Navbar"),l=(0,t.g2)("Modal"),d=(0,t.g2)("Footer");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",ua,[(0,t.bF)(n,{onopen:r.openZatvoriModal},null,8,["onopen"]),i.prikaziModal?((0,t.uX)(),(0,t.CE)("div",pa,[(0,t.bF)(l,{onZatvori:r.openZatvoriModal,onPotvrdi:r.handleFormSubmit},null,8,["onZatvori","onPotvrdi"])])):(0,t.Q3)("",!0),ma]),(0,t.bF)(d)],64)}var ka={name:"AboutView",components:{Navbar:P,Modal:ia,Footer:$},data(){return{prikaziModal:!1}},methods:{openZatvoriModal(){this.prikaziModal=!this.prikaziModal},handleFormSubmit(a){const e=new URLSearchParams;e.append("email",a.email),e.append("password",a.password);const o="/api/auth/login";B.post(o,e).then((a=>{const e=a.data.access_token;localStorage.setItem("token",e),this.$router.push("/user")})).catch((a=>{console.error(a.response.data.message)}))}}};const ha=(0,r.A)(ka,[["render",va]]);var ba=ha;const ga={key:0},fa={class:"home"},ja={key:0,class:"alert alert-success mt-4",role:"alert"},La={class:"container mt-4"},wa={class:"row justify-content-center"},_a={class:"col-md-6"},ya={class:"card p-4 bg-light text-dark rounded"},Ca=(0,t.Lk)("h2",{class:"mb-4"},"Unesite podatke",-1),Ua={class:"mb-3"},za=(0,t.Lk)("label",{for:"first_name",class:"form-label"},"First Name:",-1),Ea={class:"mb-3"},Ka=(0,t.Lk)("label",{for:"last_name",class:"form-label"},"Last Name:",-1),Oa={class:"mb-3"},Fa=(0,t.Lk)("label",{for:"email",class:"form-label"},"Email:",-1),Ma={class:"mb-3"},Sa=(0,t.Lk)("label",{for:"password",class:"form-label"},"Password:",-1),Pa={class:"d-flex"},xa=["type"],Xa={class:"mb-3"},Da=(0,t.Lk)("label",{for:"password_confirmation",class:"form-label"},"Confirm Password:",-1),Ra={class:"d-flex"},Aa=["type"],Va={class:"mb-3"},$a=(0,t.Lk)("label",{for:"image",class:"form-label"},"Upload Image:",-1),Za=(0,t.Lk)("button",{type:"submit",class:"btn btn-dark"},"Register",-1);function Ia(a,e,o,i,r,n){const l=(0,t.g2)("Navbar"),d=(0,t.g2)("Modal"),c=(0,t.g2)("Footer");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(l,{onopen:n.openZatvoriModal},null,8,["onopen"]),r.prikaziModal?((0,t.uX)(),(0,t.CE)("div",ga,[(0,t.bF)(d,{onZatvori:n.openZatvoriModal,onPotvrdi:n.handleFormSubmit},null,8,["onZatvori","onPotvrdi"])])):(0,t.Q3)("",!0),(0,t.Lk)("div",fa,[r.showSuccessMessage?((0,t.uX)(),(0,t.CE)("div",ja," Uspješna registracija! Sada se prijavite sa svojim podacima. ")):(0,t.Q3)("",!0),(0,t.Lk)("div",La,[(0,t.Lk)("div",wa,[(0,t.Lk)("div",_a,[(0,t.Lk)("div",ya,[Ca,(0,t.Lk)("form",{onSubmit:e[8]||(e[8]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"])),enctype:"multipart/form-data"},[(0,t.Lk)("div",Ua,[za,(0,t.bo)((0,t.Lk)("input",{type:"text",id:"first_name","onUpdate:modelValue":e[0]||(e[0]=a=>r.formData.first_name=a),class:"form-control",required:""},null,512),[[s.Jo,r.formData.first_name]])]),(0,t.Lk)("div",Ea,[Ka,(0,t.bo)((0,t.Lk)("input",{type:"text",id:"last_name","onUpdate:modelValue":e[1]||(e[1]=a=>r.formData.last_name=a),class:"form-control",required:""},null,512),[[s.Jo,r.formData.last_name]])]),(0,t.Lk)("div",Oa,[Fa,(0,t.bo)((0,t.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[2]||(e[2]=a=>r.formData.email=a),class:"form-control",required:""},null,512),[[s.Jo,r.formData.email]])]),(0,t.Lk)("div",Ma,[Sa,(0,t.Lk)("div",Pa,[(0,t.bo)((0,t.Lk)("input",{type:r.passwordFieldType,id:"password","onUpdate:modelValue":e[3]||(e[3]=a=>r.formData.password=a),class:"form-control",required:""},null,8,xa),[[s.hp,r.formData.password]]),(0,t.Lk)("button",{class:"btn btn-link",onClick:e[4]||(e[4]=(...a)=>n.togglePasswordVisibility&&n.togglePasswordVisibility(...a))},[(0,t.Lk)("i",{class:(0,u.C4)("password"===r.passwordFieldType?"far fa-eye":"far fa-eye-slash")},null,2)])])]),(0,t.Lk)("div",Xa,[Da,(0,t.Lk)("div",Ra,[(0,t.bo)((0,t.Lk)("input",{type:r.passwordFieldType,id:"password_confirmation","onUpdate:modelValue":e[5]||(e[5]=a=>r.formData.password_confirmation=a),class:"form-control",required:""},null,8,Aa),[[s.hp,r.formData.password_confirmation]]),(0,t.Lk)("button",{class:"btn btn-link",onClick:e[6]||(e[6]=(...a)=>n.togglePasswordVisibility&&n.togglePasswordVisibility(...a))},[(0,t.Lk)("i",{class:(0,u.C4)("password"===r.passwordFieldType?"far fa-eye":"far fa-eye-slash")},null,2)])])]),(0,t.Lk)("div",Va,[$a,(0,t.Lk)("input",{type:"file",id:"image",onChange:e[7]||(e[7]=(...a)=>n.handleImageUpload&&n.handleImageUpload(...a)),accept:"image/*",class:"form-control"},null,32)]),Za],32)])])])])]),(0,t.bF)(c)],64)}var Ba={name:"RegisterView",components:{Navbar:P,Footer:$,Modal:ia},data(){return{prikaziModal:!1,passwordFieldType:"password",showSuccessMessage:!1,formData:{first_name:"",last_name:"",email:"",password:"",password_confirmation:"",image:null}}},methods:{togglePasswordVisibility(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"},handleFormSubmit(a){const e=new URLSearchParams;e.append("email",a.email),e.append("password",a.password);const o="/api/auth/login";B.post(o,e).then((a=>{const e=a.data.access_token;localStorage.setItem("token",e),this.$router.push("/user")})).catch((a=>{console.error(a.response.data.message)}))},openZatvoriModal(){this.prikaziModal=!this.prikaziModal},handleImageUpload(a){this.formData.image=a.target.files[0]},submitForm(){const a=new FormData;a.append("first_name",this.formData.first_name),a.append("last_name",this.formData.last_name),a.append("email",this.formData.email),a.append("password",this.formData.password),a.append("password_confirmation",this.formData.password_confirmation),this.formData.image&&a.append("image_path",this.formData.image);const e="/api/auth/register";B.post(e,a,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{console.log(a.data.message),this.showSuccessMessage=!0,setTimeout((()=>{this.showSuccessMessage=!1,this.openZatvoriModal()}),2e3)})).catch((a=>{console.error(a.response.data.message)}))}}};const Na=(0,r.A)(Ba,[["render",Ia]]);var Ta=Na;const Qa={class:"filter-container justify-content-around mt-3"},Ja={class:"row"},Wa={class:"filter-item col-md-3 col-sm-6"},qa=(0,t.Lk)("label",{for:"usluga"},"Usluga:",-1),Ga=(0,t.Lk)("option",{value:""},"Sve usluge",-1),Ha=["value"],Ya={class:"filter-item col-md-3 col-sm-6"},ae=(0,t.Lk)("label",{for:"donjaCijena"},"Donja cijena:",-1),ee={class:"filter-item col-md-3 col-sm-6"},oe=(0,t.Lk)("label",{for:"gornjaCijena"},"Gornja cijena:",-1),se={class:"filter-item col-md-3 col-sm-6"},te=(0,t.Lk)("label",{for:"ocjena"},"Ocjena:",-1),ie={class:"range-value"},re={class:"filter-button col-md-12 col-sm-12 text-center mt-3"},ne={key:0},le={class:"card-container-objava"},de=["onClick"],ce=["src"],ue={class:"card-body"},pe={class:"card-text"},me={class:"card-price"},ve={class:"card-rating"},ke={class:"rating-wraper"},he=["onClick"],be=["onClick"],ge=["onClick"],fe=["onClick"],je=["onClick"],Le={class:"card-rating-text"},we={class:"card-rating-number text-warning fw-bold"},_e={class:"card-rating-reviews"};function ye(a,e,o,i,r,n){const l=(0,t.g2)("NavbarUser"),d=(0,t.g2)("ModalObjava");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(l,{path:r.Korisnik.putanja,rola:r.userRole},null,8,["path","rola"]),(0,t.Lk)("div",Qa,[(0,t.Lk)("div",Ja,[(0,t.Lk)("div",Wa,[qa,(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.odabranaUsluga=a),id:"usluga",class:"form-control"},[Ga,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.usluge,(a=>((0,t.uX)(),(0,t.CE)("option",{key:a.id,value:a.id},(0,u.v_)(a.name),9,Ha)))),128))],512),[[s.u1,r.odabranaUsluga]])]),(0,t.Lk)("div",Ya,[ae,(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=a=>r.donjaCijena=a),id:"donjaCijena",class:"form-control"},null,512),[[s.Jo,r.donjaCijena]])]),(0,t.Lk)("div",ee,[oe,(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=a=>r.gornjaCijena=a),id:"gornjaCijena",class:"form-control"},null,512),[[s.Jo,r.gornjaCijena]])]),(0,t.Lk)("div",se,[te,(0,t.bo)((0,t.Lk)("input",{type:"range","onUpdate:modelValue":e[3]||(e[3]=a=>r.ocjena=a),id:"ocjena",class:"form-range",min:"0",max:"5",step:"0.1"},null,512),[[s.Jo,r.ocjena]]),(0,t.Lk)("span",ie,(0,u.v_)(r.ocjena),1)])])]),(0,t.Lk)("div",re,[(0,t.Lk)("button",{onClick:e[4]||(e[4]=(...a)=>n.primijeniFiltere&&n.primijeniFiltere(...a)),class:"btn btn-dark"},"Primijeni filtere")]),r.otvorenModalObjava?((0,t.uX)(),(0,t.CE)("div",ne,[(0,t.bF)(d,{onZatvori:n.openZatvoriModalObjava,showEditButton:!1,objava:r.objava},null,8,["onZatvori","objava"])])):(0,t.Q3)("",!0),(0,t.Lk)("div",le,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.filtriraneObjave,((a,o)=>((0,t.uX)(),(0,t.CE)("div",{class:"card card-objava shadow",key:o,onClick:e=>n.openZatvoriModalObjava(a)},[(0,t.Lk)("img",{src:r.BASE_URL+"/storage/"+a.image_path,alt:"Slika objave",class:"card-img-top"},null,8,ce),(0,t.Lk)("div",ue,[(0,t.Lk)("p",pe,(0,u.v_)(a.description),1),(0,t.Lk)("p",me,(0,u.v_)(a.price)+" BAM",1),(0,t.Lk)("div",ve,[(0,t.Lk)("div",ke,[(0,t.Lk)("div",{class:"ratings",onClick:e[5]||(e[5]=(0,s.D$)((()=>{}),["stop"]))},[(0,t.Lk)("span",{onClick:a=>n.setRating(o,5)},"★",8,he),(0,t.Lk)("span",{onClick:a=>n.setRating(o,4)},"★",8,be),(0,t.Lk)("span",{onClick:a=>n.setRating(o,3)},"★",8,ge),(0,t.Lk)("span",{onClick:a=>n.setRating(o,2)},"★",8,fe),(0,t.Lk)("span",{onClick:a=>n.setRating(o,1)},"★",8,je)])]),(0,t.Lk)("div",Le,[(0,t.Lk)("p",we,(0,u.v_)(a.review.toFixed(1)),1),(0,t.Lk)("p",_e,(0,u.v_)(a.num_reviews)+" reviews",1)])])])],8,de)))),128))])],64)}const Ce={class:"navbar navbar-expand-lg navbar-dark bg-dark"},Ue={class:"dropdown ms-auto",style:{"margin-right":"30px"}},ze=["src"],Ee={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton"};function Ke(a,e,o,s,i,r){const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("nav",Ce,[(0,t.bF)(n,{to:"/user",class:"navbar-brand logo custom-logo"},{default:(0,t.k6)((()=>[(0,t.eW)("Pzi Usluge")])),_:1}),(0,t.Lk)("div",Ue,[(0,t.Lk)("button",{class:"btn btn-dark dropdown-toggle",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:e[0]||(e[0]=(...a)=>r.prikaziOpcije&&r.prikaziOpcije(...a))},[(0,t.Lk)("img",{class:"rounded-circle",src:i.BASE_URL+"/storage/"+o.path,alt:"Profilna slika",width:"50",height:"50"},null,8,ze)]),(0,t.Lk)("ul",Ee,[(0,t.Lk)("li",null,[(0,t.bF)(n,{to:"/user/profile",class:"dropdown-item"},{default:(0,t.k6)((()=>[(0,t.eW)("Profil")])),_:1})]),(0,t.Lk)("li",null,[i.prikaziZaSuperAdmina||i.prikaziZaAdmina?((0,t.uX)(),(0,t.Wv)(n,{key:0,to:"/user/manage/posts",class:"dropdown-item"},{default:(0,t.k6)((()=>[(0,t.eW)("Upravljaj objavama")])),_:1})):(0,t.Q3)("",!0)]),(0,t.Lk)("li",null,[i.prikaziZaSuperAdmina?((0,t.uX)(),(0,t.Wv)(n,{key:0,to:"/user/manage/users",class:"dropdown-item"},{default:(0,t.k6)((()=>[(0,t.eW)("Upravljaj korisnicima")])),_:1})):(0,t.Q3)("",!0)]),(0,t.Lk)("li",null,[i.prikaziZaSuperAdmina||i.prikaziZaAdmina?((0,t.uX)(),(0,t.Wv)(n,{key:0,to:"/user/manage/services",class:"dropdown-item"},{default:(0,t.k6)((()=>[(0,t.eW)("Upravljaj uslugama")])),_:1})):(0,t.Q3)("",!0)]),(0,t.Lk)("li",null,[(0,t.Lk)("button",{class:"dropdown-item",onClick:e[1]||(e[1]=(...a)=>r.logoutUsera&&r.logoutUsera(...a))},"Odjavi se")])])])])}var Oe={props:["path","rola"],name:"NavbarUser",data(){return{BASE_URL:"http://127.0.0.1:8000",prikaziZaAdmina:!1,prikaziZaSuperAdmina:!1}},methods:{logoutUsera(){const a=localStorage.getItem("token");a&&B.get("/api/auth/logout",{headers:{Authorization:`Bearer ${a}`}}).then((a=>{console.log("Uspješno!"),localStorage.removeItem("token"),this.$router.push("/")})).catch((a=>{console.error(a.response.data.message)}))},prikaziOpcije(){1==this.rola?this.prikaziZaSuperAdmina=!0:2==this.rola&&(this.prikaziZaAdmina=!0)}}};const Fe=(0,r.A)(Oe,[["render",Ke]]);var Me=Fe;const Se={class:"modalObjava"},Pe=["src"],xe={class:"col-md-12"},Xe=(0,t.Lk)("span",{class:"fw-bold"},"Opis: ",-1),De={key:0},Re=(0,t.Lk)("p",null,null,-1),Ae=(0,t.Lk)("span",{class:"fw-bold"},"Cijena: ",-1),Ve={key:2},$e=(0,t.Lk)("p",null,null,-1),Ze=(0,t.Lk)("span",{class:"fw-bold"},"Ocjena:",-1),Ie=(0,t.Lk)("span",{class:"fw-bold"},"Broj ocjena:",-1),Be=(0,t.Lk)("span",{class:"fw-bold"},"Usluga:",-1),Ne=(0,t.Lk)("span",{class:"fw-bold"},"Korisnik:",-1),Te={key:0,class:"action-buttons"};function Qe(a,e,o,i,r,n){return(0,t.uX)(),(0,t.CE)("div",{class:"backdrop",onClick:e[6]||(e[6]=(0,s.D$)(((...a)=>n.zatvoriModal&&n.zatvoriModal(...a)),["self"]))},[(0,t.Lk)("div",Se,[(0,t.Lk)("img",{src:r.BASE_URL+"/storage/"+o.objava.image_path,alt:"Slika objave",class:"card-img-top rounded"},null,8,Pe),(0,t.Lk)("div",xe,[Xe,o.objava.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:1,"onUpdate:modelValue":e[0]||(e[0]=a=>o.objava.description=a),class:"form-control"},null,512)),[[s.Jo,o.objava.description]]):((0,t.uX)(),(0,t.CE)("span",De,(0,u.v_)(o.objava.description),1)),Re,Ae,o.objava.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:3,"onUpdate:modelValue":e[1]||(e[1]=a=>o.objava.price=a),class:"form-control"},null,512)),[[s.Jo,o.objava.price]]):((0,t.uX)(),(0,t.CE)("span",Ve,(0,u.v_)(o.objava.price)+" BAM",1)),$e,(0,t.Lk)("p",null,[Ze,(0,t.eW)(" "+(0,u.v_)(o.objava.review),1)]),(0,t.Lk)("p",null,[Ie,(0,t.eW)(" "+(0,u.v_)(o.objava.num_reviews),1)]),(0,t.Lk)("p",null,[Be,(0,t.eW)(" "+(0,u.v_)(o.objava.service.name),1)]),(0,t.Lk)("p",null,[Ne,(0,t.eW)(" "+(0,u.v_)(o.objava.user.email),1)])]),o.showEditButton?((0,t.uX)(),(0,t.CE)("div",Te,[o.objava.editing?((0,t.uX)(),(0,t.CE)("button",{key:1,class:"btn btn-dark",onClick:e[3]||(e[3]=a=>n.ponistiUredjivanje(o.objava))},"Poništi")):((0,t.uX)(),(0,t.CE)("button",{key:0,class:"btn btn-dark",onClick:e[2]||(e[2]=a=>n.toggleEdit(o.objava))}," Uredi ")),(0,t.Lk)("button",{class:"btn btn-danger",onClick:e[4]||(e[4]=a=>n.deleteObjava(o.objava))},"Izbriši"),o.objava.editing?((0,t.uX)(),(0,t.CE)("button",{key:2,class:"btn btn-success",onClick:e[5]||(e[5]=a=>n.saveChanges(o.objava))}," Potvrdi ")):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)])])}var Je={data(){return{BASE_URL:"http://127.0.0.1:8000"}},props:{objava:Object,showEditButton:Boolean},methods:{zatvoriModal(){this.$emit("zatvori")},toggleEdit(a){a.editing=!a.editing},deleteObjava(a){window.confirm("Jeste li sigurni da želite izbrisati ovu objavu?")&&this.izbrisiObjavu(a)},izbrisiObjavu(a){const e=`/api/posts/${a.id}`;B.delete(e).then((a=>{console.log("Uspješno"),window.location.reload()})).catch((a=>{console.error(a)}))},saveChanges(a){const e=`/api/posts/${a.id}`;let o={description:a.description,price:a.price,review:a.review,num_reviews:a.num_review};B.put(e,o).then((a=>{console.log("Uspješno")})).catch((a=>{console.error(a.response.data.message)})),a.editing=!a.editing},ponistiUredjivanje(a){this.$emit("zatvori"),window.location.reload()}}};const We=(0,r.A)(Je,[["render",Qe]]);var qe=We,Ge={name:"LoggedInView",components:{NavbarUser:Me,ModalObjava:qe},data(){return{objave:[],otvorenModalObjava:!1,objavePoUsluzi:[],objava:null,objavePoCijeni:[],objavePoOcjeni:[],filtriraneObjave:this.objave,filtriraneObjavePomocna:[],filtriraneObjavePomocna2:[],usluge:[],ocjena:0,userRole:0,odabranaUsluga:"",donjaCijena:0,gornjaCijena:1e4,BASE_URL:"http://127.0.0.1:8000",Korisnik:{id:"",ime:"",prezime:"",email:"",putanja:""}}},mounted(){this.dohvacanjeObjava(),this.dohvacanjeUsluga(),this.dohvacanjeUsera()},methods:{dohvacanjeObjava(){B.get("/api/posts").then((a=>{this.objave=a.data,this.filtriraneObjave=a.data})).catch((a=>{console.error(a)}))},dohvacanjeRole(a){const e=`/api/userroles/getRoleByUser/${a}`;B.get(e).then((a=>{this.userRole=a.data[0].role_id})).catch((a=>{console.error(a)}))},openZatvoriModalObjava(a){this.otvorenModalObjava=!this.otvorenModalObjava,this.objava=a},dohvacanjeUsera(){const a=localStorage.getItem("token");console.log(a),a?B.get("/api/auth/user",{headers:{Authorization:`Bearer ${a}`}}).then((a=>{const e=a.data;this.Korisnik.ime=e.first_name,this.Korisnik.prezime=e.last_name,this.Korisnik.email=e.email,this.Korisnik.putanja=e.image_path,this.Korisnik.id=e.id,this.dohvacanjeObjava(e.id),this.dohvacanjeRole(e.id)})).catch((a=>{console.error(a.response.data.message)})):this.$router.push("/error")},filtrirajPoUsluzi(a,e,o,s){if(this.filtriraneObjavePomocna=[],this.filtriraneObjavePomocna2=[],a){const e=`/api/posts/filterByService/${a}`;B.get(e).then((a=>{this.objavePoUsluzi=a.data})).catch((a=>{console.error(a)}))}else this.objavePoUsluzi=this.objave;const t=`/api/posts/filterByReview/${e}`;B.get(t).then((a=>{this.objavePoOcjeni=a.data;for(let e=0;e<this.objavePoUsluzi.length;e++)for(let a=0;a<this.objavePoOcjeni.length;a++)this.objavePoUsluzi[e].id==this.objavePoOcjeni[a].id&&this.filtriraneObjavePomocna.push(this.objavePoUsluzi[e])})).catch((a=>{console.error(a)}));const i=`/api/posts/filterByPrice/${o}/${s}`;B.get(i).then((a=>{this.objavePoCijeni=a.data;for(let e=0;e<this.filtriraneObjavePomocna.length;e++)for(let a=0;a<this.objavePoCijeni.length;a++)this.filtriraneObjavePomocna[e].id==this.objavePoCijeni[a].id&&this.filtriraneObjavePomocna2.push(this.filtriraneObjavePomocna[e]);this.filtriraneObjave=this.filtriraneObjavePomocna2})).catch((a=>{console.error(a)}))},primijeniFiltere(){this.filtrirajPoUsluzi(this.odabranaUsluga,this.ocjena,this.donjaCijena,this.gornjaCijena)},dohvacanjeUsluga(){B.get("/api/services").then((a=>{this.usluge=a.data})).catch((a=>{console.error(a)}))},setRating(a,e){const o=`/api/posts/${this.objave[a].id}`;let s=this.objave[a].num_reviews,t=this.objave[a].review;t=(t*s+e)/(s+1),s+=1;let i={description:this.objave[a].description,price:this.objave[a].price,review:t,num_reviews:s};B.put(o,i).then((a=>{console.log("Uspješno"),this.dohvacanjeObjava()})).catch((a=>{console.error(a.response.data.message)})),this.highlightedStars=0}}};const He=(0,r.A)(Ge,[["render",ye]]);var Ye=He;const ao={key:0,class:"alert alert-success mt-4",role:"alert"},eo={class:"user-profile"},oo={class:"text-center"},so=["src"],to={class:"text-center mt-2"},io={class:"user-details mt-4 text-center"},ro={class:"card-title"},no=(0,t.Lk)("span",{class:"fw-bold"},"Ime: ",-1),lo={key:0},co={class:"card-text"},uo=(0,t.Lk)("span",{class:"fw-bold"},"Prezime: ",-1),po={key:0},mo={class:"card-text"},vo={key:0,class:"fw-bold"},ko={class:"d-flex"},ho=["type"],bo={class:"card-text"},go={key:0,class:"fw-bold"},fo={class:"d-flex"},jo=["type"],Lo={class:"card-text"},wo={key:0,class:"fw-bold"},_o={class:"d-flex"},yo=["type"],Co={class:"card-text"},Uo=(0,t.Lk)("span",{class:"fw-bold"},"E-mail: ",-1),zo={key:0},Eo={class:"text-center mt-2"},Ko=(0,t.Lk)("hr",null,null,-1),Oo={key:1,class:"mt-4"},Fo=(0,t.Lk)("i",{class:"fas fa-plus"},null,-1),Mo={key:2,class:"mt-4"},So={key:3},Po={class:"card-container-objava-user"},xo=["onClick"],Xo=["src"],Do={class:"card-body"},Ro={class:"card-text"},Ao={class:"card-price"},Vo={class:"card-rating"},$o={class:"rating-wraper"},Zo=["onClick"],Io=["onClick"],Bo=["onClick"],No=["onClick"],To=["onClick"],Qo={class:"card-rating-text"},Jo={class:"card-rating-number"},Wo={class:"card-rating-reviews"};function qo(a,e,o,i,r,n){const l=(0,t.g2)("NavbarUser"),d=(0,t.g2)("ModalObjava"),c=(0,t.g2)("ModalDodajObjavu");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(l,{path:r.Korisnik.putanja,rola:r.userRole},null,8,["path","rola"]),r.showSuccessMessage?((0,t.uX)(),(0,t.CE)("div",ao," Objava dodana uspješno! ")):(0,t.Q3)("",!0),(0,t.Lk)("div",eo,[(0,t.Lk)("div",oo,[(0,t.Lk)("img",{src:r.BASE_URL+"/storage/"+r.Korisnik.putanja,alt:"User Image",class:"rounded-circle user-image"},null,8,so)]),(0,t.Lk)("div",to,[(0,t.Lk)("button",{class:"btn btn-dark",onClick:e[0]||(e[0]=(...e)=>a.changeImage&&a.changeImage(...e))},"Promijeni sliku")]),(0,t.Lk)("div",io,[(0,t.Lk)("h5",ro,[no,r.Korisnik.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:1,"onUpdate:modelValue":e[1]||(e[1]=a=>r.Korisnik.ime=a),class:"form-control text-center"},null,512)),[[s.Jo,r.Korisnik.ime]]):((0,t.uX)(),(0,t.CE)("span",lo,(0,u.v_)(r.Korisnik.ime),1))]),(0,t.Lk)("p",co,[uo,r.Korisnik.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:1,"onUpdate:modelValue":e[2]||(e[2]=a=>r.Korisnik.prezime=a),class:"form-control text-center"},null,512)),[[s.Jo,r.Korisnik.prezime]]):((0,t.uX)(),(0,t.CE)("span",po,(0,u.v_)(r.Korisnik.prezime),1))]),(0,t.Lk)("div",mo,[r.Korisnik.editing?((0,t.uX)(),(0,t.CE)("span",vo,"Stara lozinka: ")):(0,t.Q3)("",!0),(0,t.Lk)("div",ko,[r.Korisnik.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:0,type:r.passwordFieldType,"onUpdate:modelValue":e[3]||(e[3]=a=>r.Korisnik.lozinka=a),class:"form-control text-center"},null,8,ho)),[[s.hp,r.Korisnik.lozinka]]):(0,t.Q3)("",!0),r.Korisnik.editing?((0,t.uX)(),(0,t.CE)("button",{key:1,class:"btn btn-link",onClick:e[4]||(e[4]=(...a)=>n.togglePasswordVisibility&&n.togglePasswordVisibility(...a))},[(0,t.Lk)("i",{class:(0,u.C4)("password"===r.passwordFieldType?"far fa-eye":"far fa-eye-slash")},null,2)])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",bo,[r.Korisnik.editing?((0,t.uX)(),(0,t.CE)("span",go,"Nova lozinka: ")):(0,t.Q3)("",!0),(0,t.Lk)("div",fo,[r.Korisnik.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:0,type:r.passwordFieldType,"onUpdate:modelValue":e[5]||(e[5]=a=>r.Korisnik.nova_lozinka=a),class:"form-control text-center"},null,8,jo)),[[s.hp,r.Korisnik.nova_lozinka]]):(0,t.Q3)("",!0),r.Korisnik.editing?((0,t.uX)(),(0,t.CE)("button",{key:1,class:"btn btn-link",onClick:e[6]||(e[6]=(...a)=>n.togglePasswordVisibility&&n.togglePasswordVisibility(...a))},[(0,t.Lk)("i",{class:(0,u.C4)("password"===r.passwordFieldType?"far fa-eye":"far fa-eye-slash")},null,2)])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",Lo,[r.Korisnik.editing?((0,t.uX)(),(0,t.CE)("span",wo,"Potvrdi novu lozinku: ")):(0,t.Q3)("",!0),(0,t.Lk)("div",_o,[r.Korisnik.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:0,type:r.passwordFieldType,"onUpdate:modelValue":e[7]||(e[7]=a=>r.Korisnik.potvrda_lozinke=a),class:"form-control text-center"},null,8,yo)),[[s.hp,r.Korisnik.potvrda_lozinke]]):(0,t.Q3)("",!0),r.Korisnik.editing?((0,t.uX)(),(0,t.CE)("button",{key:1,class:"btn btn-link",onClick:e[8]||(e[8]=(...a)=>n.togglePasswordVisibility&&n.togglePasswordVisibility(...a))},[(0,t.Lk)("i",{class:(0,u.C4)("password"===r.passwordFieldType?"far fa-eye":"far fa-eye-slash")},null,2)])):(0,t.Q3)("",!0)])]),(0,t.Lk)("p",Co,[Uo,r.Korisnik.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:1,"onUpdate:modelValue":e[9]||(e[9]=a=>r.Korisnik.email=a),class:"form-control text-center"},null,512)),[[s.Jo,r.Korisnik.email]]):((0,t.uX)(),(0,t.CE)("span",zo,(0,u.v_)(r.Korisnik.email),1))])]),(0,t.Lk)("div",Eo,[r.Korisnik.editing?((0,t.uX)(),(0,t.CE)("button",{key:1,class:"btn btn-dark",onClick:e[11]||(e[11]=a=>n.ponistiUredjivanje(r.Korisnik))},"Poništi")):((0,t.uX)(),(0,t.CE)("button",{key:0,class:"btn btn-dark",onClick:e[10]||(e[10]=a=>n.toggleEdit(r.Korisnik))}," Uredi ")),r.Korisnik.editing?((0,t.uX)(),(0,t.CE)("button",{key:2,class:"btn btn-success",onClick:e[12]||(e[12]=a=>n.saveChanges(r.Korisnik))}," Potvrdi ")):(0,t.Q3)("",!0)])]),Ko,r.showNoPostsMessage?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("h2",Oo,"Vaše objave:")),(0,t.Lk)("button",{class:"btn btn-dark",onClick:e[13]||(e[13]=(...a)=>n.openZatvoriModalDodavanjeObjava&&n.openZatvoriModalDodavanjeObjava(...a))},[Fo,(0,t.eW)(" Dodaj novu objavu ")]),r.showNoPostsMessage?((0,t.uX)(),(0,t.CE)("h2",Mo,"Nemate objava")):(0,t.Q3)("",!0),r.otvorenModalObjava?((0,t.uX)(),(0,t.CE)("div",So,[(0,t.bF)(d,{onZatvori:n.openZatvoriModalObjava,showEditButton:!0,objava:r.objava},null,8,["onZatvori","objava"])])):(0,t.Q3)("",!0),r.dodavanjeObjave?((0,t.uX)(),(0,t.Wv)(c,{key:4,onZatvori:n.openZatvoriModalDodavanjeObjava,user_id:r.Korisnik.id,onPotvrdjeno:n.UspjesnoSpremljeno},null,8,["onZatvori","user_id","onPotvrdjeno"])):(0,t.Q3)("",!0),(0,t.Lk)("div",Po,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.objave,((a,o)=>((0,t.uX)(),(0,t.CE)("div",{class:"card card-objava-user shadow",key:o,onClick:e=>n.openZatvoriModalObjava(a)},[(0,t.Lk)("img",{src:r.BASE_URL+"/storage/"+a.image_path,alt:"Slika objave",class:"card-img-top"},null,8,Xo),(0,t.Lk)("div",Do,[(0,t.Lk)("p",Ro,(0,u.v_)(a.description),1),(0,t.Lk)("p",Ao,(0,u.v_)(a.price)+" BAM",1),(0,t.Lk)("div",Vo,[(0,t.Lk)("div",$o,[(0,t.Lk)("div",{class:"ratings",onClick:e[14]||(e[14]=(0,s.D$)((()=>{}),["stop"]))},[(0,t.Lk)("span",{onClick:a=>n.setRating(o,5)},"★",8,Zo),(0,t.Lk)("span",{onClick:a=>n.setRating(o,4)},"★",8,Io),(0,t.Lk)("span",{onClick:a=>n.setRating(o,3)},"★",8,Bo),(0,t.Lk)("span",{onClick:a=>n.setRating(o,2)},"★",8,No),(0,t.Lk)("span",{onClick:a=>n.setRating(o,1)},"★",8,To)])]),(0,t.Lk)("div",Qo,[(0,t.Lk)("p",Jo,(0,u.v_)(a.review.toFixed(1)),1),(0,t.Lk)("p",Wo,(0,u.v_)(a.num_reviews)+" reviews",1)])])])],8,xo)))),128))])],64)}const Go={class:"modall"},Ho=(0,t.Lk)("h3",null,"Dodaj objavu",-1),Yo={class:"mb-3"},as=(0,t.Lk)("label",{for:"service"},"Usluga:",-1),es=(0,t.Lk)("option",{value:""},"Odaberi uslugu",-1),os=["value"],ss={class:"mb-3"},ts=(0,t.Lk)("label",{for:"price"},"Cijena:",-1),is={class:"mb-3"},rs=(0,t.Lk)("label",{for:"description"},"Opis:",-1),ns={class:"mb-3"},ls=(0,t.Lk)("label",{for:"image"},"Slika:",-1),ds=(0,t.Lk)("button",{type:"submit",class:"btn btn-dark mb-3"},"Dodaj",-1);function cs(a,e,o,i,r,n){return(0,t.uX)(),(0,t.CE)("div",{class:"backdrop",onClick:e[5]||(e[5]=(0,s.D$)(((...a)=>n.zatvoriModal&&n.zatvoriModal(...a)),["self"]))},[(0,t.Lk)("div",Go,[Ho,(0,t.Lk)("form",{onSubmit:e[4]||(e[4]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"])),enctype:"multipart/form-data"},[(0,t.Lk)("div",Yo,[as,(0,t.bo)((0,t.Lk)("select",{id:"service","onUpdate:modelValue":e[0]||(e[0]=a=>r.formData.service_id=a),class:"form-control"},[es,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.services,(a=>((0,t.uX)(),(0,t.CE)("option",{key:a.id,value:a.id},(0,u.v_)(a.name),9,os)))),128))],512),[[s.u1,r.formData.service_id]])]),(0,t.Lk)("div",ss,[ts,(0,t.bo)((0,t.Lk)("input",{type:"number",id:"price","onUpdate:modelValue":e[1]||(e[1]=a=>r.formData.price=a),class:"form-control",required:""},null,512),[[s.Jo,r.formData.price]])]),(0,t.Lk)("div",is,[rs,(0,t.bo)((0,t.Lk)("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=a=>r.formData.description=a),class:"form-control",required:""},null,512),[[s.Jo,r.formData.description]])]),(0,t.Lk)("div",ns,[ls,(0,t.Lk)("input",{type:"file",id:"image",onChange:e[3]||(e[3]=(...a)=>n.handleImageUpload&&n.handleImageUpload(...a)),accept:"image/*",class:"form-control"},null,32)]),ds],32)])])}var us={props:["user_id"],data(){return{services:[],formData:{service_id:"",price:"",description:"",image:null,user_id:this.user_id}}},methods:{zatvoriModal(){this.$emit("zatvori")},handleImageUpload(a){this.formData.image=a.target.files[0]},submitForm(){const a=new FormData;a.append("user_id",this.formData.user_id),a.append("service_id",this.formData.service_id),a.append("price",this.formData.price),a.append("description",this.formData.description),this.formData.image&&a.append("image_path",this.formData.image);const e="/api/posts";B.post(e,a,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{console.log(a.data.message),this.$emit("potvrdjeno")})).catch((a=>{console.error(a.response.data.message)}))}},mounted(){B.get("/api/services").then((a=>{this.services=a.data})).catch((a=>{console.error(a)}))}};const ps=(0,r.A)(us,[["render",cs]]);var ms=ps,vs={name:"UserProfileView",components:{NavbarUser:Me,ModalDodajObjavu:ms,ModalObjava:qe},mounted(){this.dohvacanjeUsera()},data(){return{BASE_URL:"http://127.0.0.1:8000",userRole:0,dodavanjeObjave:!1,objava:null,passwordFieldType:"password",otvorenModalObjava:!1,showSuccessMessage:!1,prikaziObjave:!0,showNoPostsMessage:!1,objave:[],uredjenKorisnik:{},Korisnik:{id:"",ime:"",prezime:"",email:"",putanja:"",lozinka:"",nova_lozinka:"",potvrda_lozinke:""}}},methods:{openZatvoriModalDodavanjeObjava(){this.dodavanjeObjave=!this.dodavanjeObjave},togglePasswordVisibility(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"},UspjesnoSpremljeno(){this.dodavanjeObjave=!this.dodavanjeObjave,this.showSuccessMessage=!0,this.dohvacanjeObjava(this.Korisnik.id),setTimeout((()=>{this.showSuccessMessage=!1}),2e3)},setRating(a,e){console.log("Ne možete ocjeniti svoju objavu!")},openZatvoriModalObjava(a){this.otvorenModalObjava=!this.otvorenModalObjava,this.objava=a},dohvacanjeObjava(a){const e=`/api/posts/filterByUser/${a}`;B.get(e).then((a=>{this.objave=a.data,console.log(this.objave.length),0==this.objave.length?this.showNoPostsMessage=!0:this.showNoPostsMessage=!1})).catch((a=>{console.error(a)}))},dohvacanjeRole(a){const e=`/api/userroles/getRoleByUser/${a}`;B.get(e).then((a=>{this.userRole=a.data[0].role_id})).catch((a=>{console.error(a)}))},toggleEdit(a){a.editing=!a.editing},saveChanges(a){const e=`/api/auth/updateUser/${a.id}`;""!=a.lozinka?this.uredjenKorisnik={first_name:a.ime,last_name:a.prezime,email:a.email,password:a.lozinka,new_password:a.nova_lozinka,new_password_confirmation:a.potvrda_lozinke}:this.uredjenKorisnik={first_name:a.ime,last_name:a.prezime,email:a.email},console.log(this.uredjenKorisnik),B.put(e,this.uredjenKorisnik).then((a=>{console.log("Uspješno")})).catch((a=>{console.error(a.response.data.message),window.location.reload()})),a.editing=!a.editing},ponistiUredjivanje(a){const e=localStorage.getItem("token");e&&(B.get("/api/auth/user",{headers:{Authorization:`Bearer ${e}`}}).then((e=>{a.ime=e.data.first_name,a.prezime=e.data.last_name,a.email=e.data.email})).catch((a=>{console.error(a)})),a.editing=!a.editing)},dohvacanjeUsera(){const a=localStorage.getItem("token");a?B.get("/api/auth/user",{headers:{Authorization:`Bearer ${a}`}}).then((a=>{const e=a.data;this.Korisnik.ime=e.first_name,this.Korisnik.prezime=e.last_name,this.Korisnik.email=e.email,this.Korisnik.putanja=e.image_path,this.Korisnik.id=e.id,this.dohvacanjeObjava(e.id),this.dohvacanjeRole(e.id)})).catch((a=>{console.error(a.response.data.message)})):this.$router.push("/error")}}};const ks=(0,r.A)(vs,[["render",qo]]);var hs=ks;const bs={class:"post-list"},gs={class:"row g-0"},fs={class:"col-md-4"},js=["src"],Ls={class:"col-md-8"},ws={class:"card-body"},_s={class:"card-title"},ys=(0,t.Lk)("span",{class:"fw-bold"},"Opis: ",-1),Cs={class:"card-text"},Us=(0,t.Lk)("span",{class:"fw-bold"},"Cijena: ",-1),zs={class:"card-text"},Es=(0,t.Lk)("span",{class:"fw-bold"},"Ocjena: ",-1),Ks={class:"card-text"},Os=(0,t.Lk)("span",{class:"fw-bold"},"Broj ocjena: ",-1),Fs={class:"card-text"},Ms=(0,t.Lk)("span",{class:"fw-bold"},"Usluga: ",-1),Ss={class:"card-text"},Ps=(0,t.Lk)("span",{class:"fw-bold"},"Korisnik: ",-1),xs={class:"action-buttons"},Xs=["onClick"];function Ds(a,e,o,s,i,r){const n=(0,t.g2)("NavbarUser");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(n,{path:i.Korisnik.putanja,rola:i.userRole},null,8,["path","rola"]),(0,t.Lk)("div",bs,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.objave,(a=>((0,t.uX)(),(0,t.CE)("div",{key:a.id,class:"card mb-3"},[(0,t.Lk)("div",gs,[(0,t.Lk)("div",fs,[(0,t.Lk)("img",{src:i.BASE_URL+"/storage/"+a.image_path,alt:"Slika objave",class:"card-img-top"},null,8,js)]),(0,t.Lk)("div",Ls,[(0,t.Lk)("div",ws,[(0,t.Lk)("h5",_s,[ys,(0,t.Lk)("span",null,(0,u.v_)(a.description),1)]),(0,t.Lk)("p",Cs,[Us,(0,t.Lk)("span",null,(0,u.v_)(a.price),1)]),(0,t.Lk)("p",zs,[Es,(0,t.Lk)("span",null,(0,u.v_)(a.review),1)]),(0,t.Lk)("p",Ks,[Os,(0,t.Lk)("span",null,(0,u.v_)(a.num_reviews),1)]),(0,t.Lk)("p",Fs,[Ms,(0,t.Lk)("span",null,(0,u.v_)(a.service.name),1)]),(0,t.Lk)("p",Ss,[Ps,(0,t.Lk)("span",null,(0,u.v_)(a.user.email),1)]),(0,t.Lk)("div",xs,[(0,t.Lk)("button",{class:"btn btn-danger",onClick:e=>r.deletePost(a)},"Izbriši",8,Xs)])])])])])))),128))])],64)}var Rs={name:"ManageUsersView",components:{NavbarUser:Me},mounted(){this.dohvacanjeUsera(),this.dohvacanjeUsluga(),this.dohvacanjeObjava()},data(){return{BASE_URL:"http://127.0.0.1:8000",userRole:0,usluge:[],objave:[],Korisnik:{id:"",ime:"",prezime:"",email:"",putanja:""}}},methods:{dohvacanjeRole(a){const e=`/api/userroles/getRoleByUser/${a}`;B.get(e).then((a=>{this.userRole=a.data[0].role_id,this.userRole>2&&this.$router.push("/error")})).catch((a=>{console.error(a)}))},dohvacanjeObjava(){B.get("/api/posts").then((a=>{this.objave=a.data})).catch((a=>{console.error(a)}))},deletePost(a){window.confirm("Jeste li sigurni da želite izbrisati ovu objavu?")&&this.izbrisiObjavu(a)},izbrisiObjavu(a){const e=`/api/posts/${a.id}`;B.delete(e).then((a=>{console.log("Uspješno"),window.location.reload()})).catch((a=>{console.error(a)}))},dohvacanjeUsluga(){B.get("/api/services").then((a=>{this.usluge=a.data})).catch((a=>{console.error(a)}))},dohvacanjeUsera(){const a=localStorage.getItem("token");a?B.get("/api/auth/user",{headers:{Authorization:`Bearer ${a}`}}).then((a=>{const e=a.data;this.Korisnik.ime=e.first_name,this.Korisnik.prezime=e.last_name,this.Korisnik.email=e.email,this.Korisnik.putanja=e.image_path,this.Korisnik.id=e.id,this.dohvacanjeRole(e.id)})).catch((a=>{console.error(a.response.data.message)})):this.$router.push("/error")}}};const As=(0,r.A)(Rs,[["render",Ds]]);var Vs=As;const $s={class:"users-list"},Zs={key:0,class:"row g-0"},Is={class:"col-md-4"},Bs=["src"],Ns={class:"col-md-8"},Ts={class:"card-body"},Qs={class:"card-title"},Js=(0,t.Lk)("span",{class:"fw-bold"},"Ime: ",-1),Ws={class:"card-text"},qs=(0,t.Lk)("span",{class:"fw-bold"},"Prezime: ",-1),Gs={class:"card-text"},Hs=(0,t.Lk)("span",{class:"fw-bold"},"Email: ",-1),Ys={class:"card-text"},at=(0,t.Lk)("span",{class:"fw-bold"},"Broj objava: ",-1),et={class:"action-buttons"},ot=["onClick"],st={class:"mt-4"},tt={class:"form-check form-check-inline"},it=["name","onUpdate:modelValue"],rt=(0,t.Lk)("label",{class:"form-check-label",for:"korisnik"},"Korisnik",-1),nt={class:"form-check form-check-inline"},lt=["name","onUpdate:modelValue"],dt=(0,t.Lk)("label",{class:"form-check-label",for:"admin"},"Admin",-1),ct={class:"form-check form-check-inline"},ut=["name","onUpdate:modelValue"],pt=(0,t.Lk)("label",{class:"form-check-label",for:"superadmin"},"SuperAdmin",-1),mt=["onClick"];function vt(a,e,o,i,r,n){const l=(0,t.g2)("NavbarUser");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(l,{path:r.Korisnik.putanja,rola:r.userRole},null,8,["path","rola"]),(0,t.Lk)("div",$s,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.korisnici,(a=>((0,t.uX)(),(0,t.CE)("div",{key:a.id,class:"card mb-3"},[a.id!=r.Korisnik.id?((0,t.uX)(),(0,t.CE)("div",Zs,[(0,t.Lk)("div",Is,[(0,t.Lk)("img",{src:r.BASE_URL+"/storage/"+a.image_path,alt:"Slika objave",class:"card-img-top"},null,8,Bs)]),(0,t.Lk)("div",Ns,[(0,t.Lk)("div",Ts,[(0,t.Lk)("h5",Qs,[Js,(0,t.Lk)("span",null,(0,u.v_)(a.first_name),1)]),(0,t.Lk)("p",Ws,[qs,(0,t.Lk)("span",null,(0,u.v_)(a.last_name),1)]),(0,t.Lk)("p",Gs,[Hs,(0,t.Lk)("span",null,(0,u.v_)(a.email),1)]),(0,t.Lk)("p",Ys,[at,(0,t.Lk)("span",null,(0,u.v_)(a.posts_count),1)]),(0,t.Lk)("div",et,[(0,t.Lk)("button",{class:"btn btn-danger",onClick:e=>n.deleteUser(a)},"Izbriši korisnika",8,ot)]),(0,t.Lk)("div",st,[(0,t.Lk)("div",tt,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"radio",name:"role"+a.id,id:"korisnik",value:"3","onUpdate:modelValue":e=>a.user_role.role_id=e},null,8,it),[[s.XL,a.user_role.role_id]]),rt]),(0,t.Lk)("div",nt,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"radio",name:"role"+a.id,id:"admin",value:"2","onUpdate:modelValue":e=>a.user_role.role_id=e},null,8,lt),[[s.XL,a.user_role.role_id]]),dt]),(0,t.Lk)("div",ct,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"radio",name:"role"+a.id,id:"superadmin",value:"1","onUpdate:modelValue":e=>a.user_role.role_id=e},null,8,ut),[[s.XL,a.user_role.role_id]]),pt]),(0,t.Lk)("button",{class:"btn btn-success",onClick:e=>n.potvrdiRoleChange(a.user_role.id,a.user_role.role_id)},"Promijeni rolu",8,mt)])])])])):(0,t.Q3)("",!0)])))),128))])],64)}var kt={name:"ManageUsersView",components:{NavbarUser:Me},mounted(){this.dohvacanjeUsera(),this.dohvacanjeSvihKorisnika()},data(){return{BASE_URL:"http://127.0.0.1:8000",userRole:0,RoleChange:!1,korisnici:[],Korisnik:{id:"",ime:"",prezime:"",email:"",putanja:""}}},methods:{dohvacanjeRole(a){const e=`/api/userroles/getRoleByUser/${a}`;B.get(e).then((a=>{this.userRole=a.data[0].role_id,this.userRole>1&&this.$router.push("/error")})).catch((a=>{console.error(a)}))},potvrdiRoleChange(a,e){const o=`/api/userroles/${a}`;let s={role_id:e};B.put(o,s).then((a=>{console.log("Uspješno"),window.location.reload()})).catch((a=>{console.error(a.response.data.message)}))},dohvacanjeSvihKorisnika(){B.get("/api/auth").then((a=>{this.korisnici=a.data,console.log(this.korisnici)})).catch((a=>{console.error(a)}))},deleteUser(a){window.confirm("Jeste li sigurni da želite izbrisati ovu objavu?")&&this.izbrisiKorisnika(a)},izbrisiKorisnika(a){const e=`/api/auth/${a.id}`;B.delete(e).then((a=>{console.log("Uspješno"),window.location.reload()})).catch((a=>{console.error(a)}))},dohvacanjeUsera(){const a=localStorage.getItem("token");a?B.get("/api/auth/user",{headers:{Authorization:`Bearer ${a}`}}).then((a=>{const e=a.data;this.Korisnik.ime=e.first_name,this.Korisnik.prezime=e.last_name,this.Korisnik.email=e.email,this.Korisnik.putanja=e.image_path,this.Korisnik.id=e.id,this.dohvacanjeRole(e.id)})).catch((a=>{console.error(a.response.data.message)})):this.$router.push("/error")}}};const ht=(0,r.A)(kt,[["render",vt]]);var bt=ht;const gt={key:0,class:"alert alert-success mt-4",role:"alert"},ft=(0,t.Lk)("i",{class:"fas fa-plus"},null,-1),jt={class:"service-list"},Lt={class:"row g-0"},wt={class:"col-md-4"},_t=["src"],yt=["onClick"],Ct={class:"col-md-8"},Ut={class:"card-body"},zt={class:"card-title"},Et=(0,t.Lk)("span",{class:"fw-bold"},"Ime: ",-1),Kt={key:0},Ot=["onUpdate:modelValue"],Ft={class:"card-text"},Mt=(0,t.Lk)("span",{class:"fw-bold"},"Kratki opis: ",-1),St={key:0},Pt=["onUpdate:modelValue"],xt={class:"card-text"},Xt=(0,t.Lk)("span",{class:"fw-bold"},"Opis: ",-1),Dt={key:0},Rt=["onUpdate:modelValue"],At={class:"card-text"},Vt=(0,t.Lk)("span",{class:"fw-bold"},"Broj objava: ",-1),$t={class:"action-buttons"},Zt=["onClick"],It=["onClick"],Bt=["onClick"],Nt=["onClick"];function Tt(a,e,o,i,r,n){const l=(0,t.g2)("NavbarUser"),d=(0,t.g2)("ModalDodajUslugu");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(l,{path:r.Korisnik.putanja,rola:r.userRole},null,8,["path","rola"]),r.showSuccessMessage?((0,t.uX)(),(0,t.CE)("div",gt," Objava dodana uspješno! ")):(0,t.Q3)("",!0),(0,t.Lk)("button",{class:"btn btn-dark mt-3 mb-3",onClick:e[0]||(e[0]=(...a)=>n.openZatvoriModalUsluga&&n.openZatvoriModalUsluga(...a))},[ft,(0,t.eW)(" Dodaj novu uslugu ")]),r.dodavanjeUsluge?((0,t.uX)(),(0,t.Wv)(d,{key:1,onZatvori:n.openZatvoriModalUsluga,onPotvrdjeno:n.UspjesnoSpremljeno},null,8,["onZatvori","onPotvrdjeno"])):(0,t.Q3)("",!0),(0,t.Lk)("div",jt,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.usluge,(a=>((0,t.uX)(),(0,t.CE)("div",{key:a.id,class:"card mb-3"},[(0,t.Lk)("div",Lt,[(0,t.Lk)("div",wt,[(0,t.Lk)("img",{src:r.BASE_URL+"/storage/"+a.image_path,alt:"Slika usluge",class:"card-img-top"},null,8,_t),(0,t.Lk)("input",{type:"file",id:"image",onChange:e[1]||(e[1]=(...a)=>n.handleImageUpload2&&n.handleImageUpload2(...a)),accept:"image/*",class:"form-control"},null,32),(0,t.Lk)("button",{type:"submit",class:"btn btn-dark mb-3",onClick:e=>n.promijeniSliku(a)},"Promijeni sliku",8,yt)]),(0,t.Lk)("div",Ct,[(0,t.Lk)("div",Ut,[(0,t.Lk)("h5",zt,[Et,a.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:1,"onUpdate:modelValue":e=>a.name=e,class:"form-control"},null,8,Ot)),[[s.Jo,a.name]]):((0,t.uX)(),(0,t.CE)("span",Kt,(0,u.v_)(a.name),1))]),(0,t.Lk)("p",Ft,[Mt,a.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:1,"onUpdate:modelValue":e=>a.short_description=e,class:"form-control"},null,8,Pt)),[[s.Jo,a.short_description]]):((0,t.uX)(),(0,t.CE)("span",St,(0,u.v_)(a.short_description),1))]),(0,t.Lk)("p",xt,[Xt,a.editing?(0,t.bo)(((0,t.uX)(),(0,t.CE)("textarea",{key:1,"onUpdate:modelValue":e=>a.description=e,class:"form-control"},null,8,Rt)),[[s.Jo,a.description]]):((0,t.uX)(),(0,t.CE)("span",Dt,(0,u.v_)(a.description),1))]),(0,t.Lk)("p",At,[Vt,(0,t.Lk)("span",null,(0,u.v_)(a.posts_count),1)]),(0,t.Lk)("div",$t,[a.editing?((0,t.uX)(),(0,t.CE)("button",{key:1,class:"btn btn-dark",onClick:e=>n.ponistiUredjivanje(a)},"Poništi",8,It)):((0,t.uX)(),(0,t.CE)("button",{key:0,class:"btn btn-dark",onClick:e=>n.toggleEdit(a)}," Uredi ",8,Zt)),(0,t.Lk)("button",{class:"btn btn-danger",onClick:e=>n.deleteService(a)},"Izbriši",8,Bt),a.editing?((0,t.uX)(),(0,t.CE)("button",{key:2,class:"btn btn-success",onClick:e=>n.saveChanges(a)}," Potvrdi ",8,Nt)):(0,t.Q3)("",!0)])])])])])))),128))])],64)}const Qt={class:"modall"},Jt=(0,t.Lk)("h3",null,"Dodaj novu uslugu",-1),Wt={class:"mb-3"},qt=(0,t.Lk)("label",{for:"name"},"Ime:",-1),Gt={class:"mb-3"},Ht=(0,t.Lk)("label",{for:"name"},"Kratki opis:",-1),Yt={class:"mb-3"},ai=(0,t.Lk)("label",{for:"description"},"Opis:",-1),ei={class:"mb-3"},oi=(0,t.Lk)("label",{for:"image"},"Slika:",-1),si=(0,t.Lk)("button",{type:"submit",class:"btn btn-dark mb-3"},"Dodaj",-1);function ti(a,e,o,i,r,n){return(0,t.uX)(),(0,t.CE)("div",{class:"backdrop",onClick:e[5]||(e[5]=(0,s.D$)(((...a)=>n.zatvoriModal&&n.zatvoriModal(...a)),["self"]))},[(0,t.Lk)("div",Qt,[Jt,(0,t.Lk)("form",{onSubmit:e[4]||(e[4]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"])),enctype:"multipart/form-data"},[(0,t.Lk)("div",Wt,[qt,(0,t.bo)((0,t.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>r.formData.name=a),required:""},null,512),[[s.Jo,r.formData.name]])]),(0,t.Lk)("div",Gt,[Ht,(0,t.bo)((0,t.Lk)("input",{type:"text",id:"short_description","onUpdate:modelValue":e[1]||(e[1]=a=>r.formData.short_description=a),required:""},null,512),[[s.Jo,r.formData.short_description]])]),(0,t.Lk)("div",Yt,[ai,(0,t.bo)((0,t.Lk)("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=a=>r.formData.description=a),class:"form-control",required:""},null,512),[[s.Jo,r.formData.description]])]),(0,t.Lk)("div",ei,[oi,(0,t.Lk)("input",{type:"file",id:"image",onChange:e[3]||(e[3]=(...a)=>n.handleImageUpload&&n.handleImageUpload(...a)),accept:"image/*",class:"form-control"},null,32)]),si],32)])])}var ii={data(){return{services:[],formData:{name:"",short_description:"",description:"",image:null}}},methods:{zatvoriModal(){this.$emit("zatvori")},handleImageUpload(a){this.formData.image=a.target.files[0]},submitForm(){const a=new FormData;a.append("name",this.formData.name),a.append("short_description",this.formData.short_description),a.append("description",this.formData.description),this.formData.image&&a.append("image_path",this.formData.image);const e="/api/services";B.post(e,a,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{console.log(a.data.message),this.$emit("potvrdjeno")})).catch((a=>{console.error(a.response.data.message)}))}},mounted(){B.get("/api/services").then((a=>{this.services=a.data})).catch((a=>{console.error(a)}))}};const ri=(0,r.A)(ii,[["render",ti]]);var ni=ri,li={name:"ManageUsersView",components:{NavbarUser:Me,ModalDodajUslugu:ni},mounted(){this.dohvacanjeUsera(),this.dohvacanjeUsluga()},data(){return{BASE_URL:"http://127.0.0.1:8000",userRole:0,dodavanjeUsluge:!1,showSuccessMessage:!1,slika:null,usluge:[],Korisnik:{id:"",ime:"",prezime:"",email:"",putanja:""}}},methods:{dohvacanjeRole(a){const e=`/api/userroles/getRoleByUser/${a}`;B.get(e).then((a=>{this.userRole=a.data[0].role_id,this.userRole>2&&this.$router.push("/error")})).catch((a=>{console.error(a)}))},openZatvoriModalUsluga(){this.dodavanjeUsluge=!this.dodavanjeUsluge},UspjesnoSpremljeno(){this.dodavanjeUsluge=!this.dodavanjeUsluge,this.showSuccessMessage=!0,this.dohvacanjeUsluga(),setTimeout((()=>{this.showSuccessMessage=!1}),2e3)},toggleEdit(a){a.editing=!a.editing},deleteService(a){window.confirm("Jeste li sigurni da želite izbrisati ovu objavu?")&&this.izbrisiObjavu(a)},izbrisiObjavu(a){const e=`/api/services/${a.id}`;B.delete(e).then((a=>{console.log("Uspješno"),window.location.reload()})).catch((a=>{console.error(a)}))},handleImageUpload2(a){this.slika=a.target.files[0]},promijeniSliku(a){const e=new FormData;this.slika&&e.append("image_path",this.slika);const o=`/api/services/image/${a.id}`;B.put(o,e,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{console.log(a.data.message)})).catch((a=>{console.error(a.response.data.message)}))},saveChanges(a){const e=`/api/services/${a.id}`;let o={name:a.name,description:a.description,short_description:a.short_description};B.put(e,o).then((a=>{console.log("Uspješno")})).catch((a=>{console.error(a.response.data.message)})),a.editing=!a.editing},ponistiUredjivanje(a){const e=`/api/services/${a.id}`;B.get(e).then((e=>{a.name=e.data.name,a.short_description=e.data.short_description,a.description=e.data.description})).catch((a=>{console.error(a)})),a.editing=!a.editing},dohvacanjeUsluga(){B.get("/api/services").then((a=>{this.usluge=a.data})).catch((a=>{console.error(a)}))},dohvacanjeUsera(){const a=localStorage.getItem("token");a?B.get("/api/auth/user",{headers:{Authorization:`Bearer ${a}`}}).then((a=>{const e=a.data;this.Korisnik.ime=e.first_name,this.Korisnik.prezime=e.last_name,this.Korisnik.email=e.email,this.Korisnik.putanja=e.image_path,this.Korisnik.id=e.id,this.dohvacanjeRole(e.id)})).catch((a=>{console.error(a.response.data.message)})):this.$router.push("/error")}}};const di=(0,r.A)(li,[["render",Tt]]);var ci=di;const ui={class:"unauthorized"},pi=(0,t.Lk)("h1",null,"Unauthorized 401",-1),mi=(0,t.Lk)("p",null,"You don't have permission to access this page.",-1),vi=[pi,mi];function ki(a,e,o,s,i,r){return(0,t.uX)(),(0,t.CE)("div",ui,vi)}var hi={};const bi=(0,r.A)(hi,[["render",ki]]);var gi=bi;const fi=[{path:"/",name:"home",component:la},{path:"/about",name:"about",component:ba},{path:"/register",name:"register",component:Ta},{path:"/user",name:"loggedin",component:Ye},{path:"/user/profile",name:"userProfile",component:hs},{path:"/user/manage/posts",name:"managePosts",component:Vs},{path:"/user/manage/users",name:"manageUsers",component:bt},{path:"/user/manage/services",name:"manageServices",component:ci},{path:"/error",name:"error",component:gi}],ji=(0,c.aE)({history:(0,c.LA)("/"),routes:fi});var Li=ji,wi=o(6278),_i=(0,wi.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});o(454);const yi=(0,s.Ef)(d);yi.use(Li),yi.use(_i),yi.config.globalProperties.$axios=Z.A,yi.mount("#app")}},e={};function o(s){var t=e[s];if(void 0!==t)return t.exports;var i=e[s]={exports:{}};return a[s].call(i.exports,i,i.exports,o),i.exports}o.m=a,function(){var a=[];o.O=function(e,s,t,i){if(!s){var r=1/0;for(c=0;c<a.length;c++){s=a[c][0],t=a[c][1],i=a[c][2];for(var n=!0,l=0;l<s.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((function(a){return o.O[a](s[l])}))?s.splice(l--,1):(n=!1,i<r&&(r=i));if(n){a.splice(c--,1);var d=t();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=a.length;c>0&&a[c-1][2]>i;c--)a[c]=a[c-1];a[c]=[s,t,i]}}(),function(){o.d=function(a,e){for(var s in e)o.o(e,s)&&!o.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){o.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){o.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var a={524:0};o.O.j=function(e){return 0===a[e]};var e=function(e,s){var t,i,r=s[0],n=s[1],l=s[2],d=0;if(r.some((function(e){return 0!==a[e]}))){for(t in n)o.o(n,t)&&(o.m[t]=n[t]);if(l)var c=l(o)}for(e&&e(s);d<r.length;d++)i=r[d],o.o(a,i)&&a[i]&&a[i][0](),a[i]=0;return o.O(c)},s=self["webpackChunkfrontend_Pzi"]=self["webpackChunkfrontend_Pzi"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(1111)}));s=o.O(s)})();
//# sourceMappingURL=app.e8d63a1a.js.map